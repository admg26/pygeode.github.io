<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Other operations &mdash; PyGeode 1.0 alpha documentation</title>
    
    <link rel="stylesheet" href="_static/pygtheme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0 alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="PyGeode 1.0 alpha documentation" href="index.html" />
    <link rel="up" title="Var class overview" href="var.html" />
    <link rel="next" title="Axis class overview" href="axes.html" />
    <link rel="prev" title="Array manipulation routines" href="varops.html" />
<link href="http://fonts.googleapis.com/css?family=Ubuntu:300,300italic,regular,italic,500,500italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700' rel='stylesheet' type='text/css'>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="axes.html" title="Axis class overview"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="varops.html" title="Array manipulation routines"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">PyGeode 1.0 alpha documentation</a> &raquo;</li>
          <li><a href="reference.html" >Reference</a> &raquo;</li>
          <li><a href="var.html" accesskey="U">Var class overview</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="other-operations">
<h1>Other operations<a class="headerlink" href="#other-operations" title="Permalink to this headline">¶</a></h1>
<dl class="method">
<dt id="pygeode.Var.deriv">
<tt class="descclassname">Var.</tt><tt class="descname">deriv</tt><big>(</big><em>var</em>, <em>daxis</em>, <em>dx=None</em>, <em>df='centre'</em><big>)</big><a class="headerlink" href="#pygeode.Var.deriv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pygeode.Var.integrate">
<tt class="descclassname">Var.</tt><tt class="descname">integrate</tt><big>(</big><em>var</em>, <em>iaxis</em>, <em>dx=None</em>, <em>v0=None</em>, <em>order=1</em>, <em>type='trapz'</em><big>)</big><a class="headerlink" href="#pygeode.Var.integrate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pygeode.Var.interpolate">
<tt class="descclassname">Var.</tt><tt class="descname">interpolate</tt><big>(</big><em>var</em>, <em>inaxis</em>, <em>outaxis</em>, <em>inx=None</em>, <em>outx=None</em>, <em>interp_type='cspline'</em>, <em>d_below=nan</em>, <em>d_above=nan</em><big>)</big><a class="headerlink" href="#pygeode.Var.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates a variable along a single dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>invar</strong> : Var</p>
<blockquote>
<div><p>The input variable</p>
</div></blockquote>
<p><strong>inaxis</strong> : Axis</p>
<blockquote>
<div><p>The input axis being interpolated from</p>
</div></blockquote>
<p><strong>outaxis</strong> : Axis</p>
<blockquote>
<div><p>The output axis being interpolated to.</p>
</div></blockquote>
<p><strong>inx</strong> : Var (optional)</p>
<blockquote>
<div><p>The coordinates from which we are interpolating (must be conformable to the
input var). If not provided, the values of inaxis are used. This can be
either a one dimensional field defined on inaxis, or a multidimensional
field.</p>
</div></blockquote>
<p><strong>outx</strong> : Var (optional)</p>
<blockquote>
<div><p>The coordinates to which we are interpolating (must be conformable to the
output var).  If not provided, the values of outaxis are used. This can be
either a one dimensional field defined on outaxis, or a multidimensional
field.</p>
</div></blockquote>
<p><strong>interp_type</strong> : string (optional)</p>
<blockquote>
<div><p>The type of interpolation. One of &#8216;linear&#8217;, &#8216;polynomial&#8217;, &#8216;cspline&#8217;,
&#8216;cspline_periodic&#8217;, &#8216;akima&#8217;, &#8216;akima_periodic&#8217;.
Default is &#8216;cspline&#8217; (cubic spline interpolation)</p>
</div></blockquote>
<p><strong>d_below</strong> : float (optional)</p>
<blockquote>
<div><p>The slope for linearly extrapolating below the input data.</p>
</div></blockquote>
<p><strong>d_above</strong> : float (optional)</p>
<blockquote>
<div><p>The slope for linearly extrapolating above the input data.
By default, no extrapolation is done.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>interpolated</strong> : Var</p>
<blockquote class="last">
<div><p>The interpolated variable</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>if inx or outx are not explicitly given, they will take on the values of
inaxis and outaxis respectively.  Note that inx and outx are assumed to
have the same units, so if inaxis and outaxis have different units, you&#8217;ll
need to override either inx or outx explicitly, and provide some kind of
mapping field there.</p>
<p>Examples:</p>
<div class="highlight-python"><div class="highlight"><pre>1) Simple interpolation along one axis (re-gridding):

To interpolate some data to 20 evenly spaced longitude values (starting at 0):
newvar = Interp (invar = data, inaxis = &#39;lon&#39;, outaxis = Lon(20))

2) Interpolation involving a change of coordinates:

Suppose we have some ozone data (o3) on a model vertical coordinate.
Suppose we also have pre-computed a pressure field (pfield) over these coordinates.
Suppose finally we have our desired pressure axis (paxis) that we want to interpolate to.

To interpolate onto pressure levels:
newvar = Interp (invar = o3, inaxis = &#39;eta&#39;, outaxis = paxis, inx = pfield)

To go backwards, and convert from pressure levels back to model levels:
whyohwhy = Interp (invar = newvar, inaxis = paxis,
                   outaxis = o3.getaxis(&#39;eta&#39;), outx = pfield)

Observe that here, we have 2 different units of coordinates (&#39;eta&#39; and 
pressure (hPa)).  In this case, we had to provide an explicit mapping
between these 2 coordinates, by use of pfield (pressure field on eta
levels).

Now, you may be asking yourself &quot;shouldn&#39;t pressure be interpolated on a
log scale?&quot;.  This is true, but I tried to simplify things by assuming a
linear scale just to show the basics.  If you wanted to interpolate over
a log scale, then your interpolation coordinate would be log(pressure),
instead of pressure.  You&#39;ll have to explicitly provide this log coordinate
for both the inputs and outputs, for example:

newvar = Interp (invar = o3, inaxis = &#39;eta&#39;, outaxis = paxis,
                 inx = pfield.log(), outx = paxis.log()  )

Here, our input and output axes remain the same as before, but now we&#39;re
using log(pressure) internally as the coordinate over which to perform
the interpolation.
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pygeode.Var.smooth">
<tt class="descclassname">Var.</tt><tt class="descname">smooth</tt><big>(</big><em>var</em>, <em>saxis</em>, <em>kernel=15</em><big>)</big><a class="headerlink" href="#pygeode.Var.smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Smooths this variable along <tt class="docutils literal"><span class="pre">saxis</span></tt> by convolving it with an averaging
kernel. The returned variable is defined on the same axes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>saxis</strong> : any axis identifier (string, <a class="reference internal" href="axes.html#pygeode.Axis" title="pygeode.Axis"><tt class="xref py py-class docutils literal"><span class="pre">Axis</span></tt></a>, or int)</p>
<blockquote>
<div><p>Axis over which the smoothing should be performed</p>
</div></blockquote>
<p><strong>kernel</strong> : sequence or int (optional)</p>
<blockquote>
<div><p>Averaging kernel with which to convolve this variable. Does not need to
be normalized.  If an integer is provided, a Hanning window is used of
length <tt class="docutils literal"><span class="pre">kernel</span></tt> (<a href="#id1"><span class="problematic" id="id2">:numpy:function:`hanning`</span></a>)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> : <a class="reference internal" href="var.html#pygeode.Var" title="pygeode.Var"><tt class="xref py py-class docutils literal"><span class="pre">Var</span></tt></a></p>
<blockquote class="last">
<div><p>Smoothed variable.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>When the convolution is performed, the source data is extended on either
end of the axis being smoothed by reflecting the data by enough to ensure
the returned variable is defined on the same grid as the source variable.
That is, if the original data is t1, t2, .., tN, and the kernel is L
items long, the convolved sequence is tj, t_j-1, t1, t1, t2, .. tN-1, tN,
tN, tN-1, .. tN-l, where j = floor(L/2) and l = L - j - 1.</p>
</dd></dl>

<dl class="docutils">
<dt><strong>See Also:</strong></dt>
<dd><a class="reference internal" href="var.html"><em>Var class overview</em></a></dd>
</dl>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="varops.html"
                        title="previous chapter">Array manipulation routines</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="axes.html"
                        title="next chapter">Axis class overview</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/var.other.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="axes.html" title="Axis class overview"
             >next</a> |</li>
        <li class="right" >
          <a href="varops.html" title="Array manipulation routines"
             >previous</a> |</li>
        <li><a href="index.html">PyGeode 1.0 alpha documentation</a> &raquo;</li>
          <li><a href="reference.html" >Reference</a> &raquo;</li>
          <li><a href="var.html" >Var class overview</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Mike Neish, Peter Hitchcock.
      Last updated on Apr 29, 2015.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>